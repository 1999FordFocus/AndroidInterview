# 说明
本分支主要对 Android 平台主要框架、开源库源码分析进行总结，方便笔试、面试前进行系统复习，并给出了源码分析的具体链接。

# 目录
* [EventBus 源码分析](#EventBus 源码分析)
* [AsyncTask 源码分析](#AsyncTask 源码分析)
* [View 的工作机制源码分析](#View 的工作机制源码分析)
* [Android 触摸事件分发机制源码分析](#Android 触摸事件分发机制源码分析)
* [Android 按键事件分发机制源码分析](#Android 按键事件分发机制源码分析)

# EventBus 源码分析
1、register 方法注册：首先会根据观察者的类型找出它声明要订阅的所有方法，然后一一订阅

2、订阅过程：首先根据事件类型获取到订阅该事件类型的订阅关系集合，为观察者和订阅方法生成订阅关系，并把这个订阅关系对象存入到该集合中；然后根据观察者获取到该观察者订阅的事件集合，并把当前订阅的事件放入到事件集合中。

EventBus 有两个 Map 类型的成员变量，分别为：

* Map1 -- Key：事件类型，Value：订阅了该事件的订阅关系（观察者、订阅方法）集合

* Map2 -- Key：观察者，Value：该观察者的订阅事件集合

3、观察目标 post 事件：首先获得当前线程的待发送事件队列，并把当前事件对象添加进去；接着依次发送当前队列中的事件对象。

4、事件对象的发送：首先从刚才的 Map 中，根据事件类型取得订阅关系集合；然后遍历订阅关系集合，先进行线程判断，再分别通过反射调用观察者的订阅方法

5、unregister 解除注册：首先从 Map2 中根据观察者取得该观察者订阅事件集合，然后一一解除该观察者和每个事件的订阅关系，最后再把该观察者从 Map2 中删除

6、解除观察者和每个事件的订阅关系：从 Map1 中根据事件类型获得订阅了该事件的订阅关系集合，将该观察者相关的订阅关系进行删除